Pass rospack instance as intended by gentools
https://github.com/ros/ros/pull/25

diff --git core/roslib/scripts/gendeps core/roslib/scripts/gendeps
index 62b59bc..f22fc53 100755
--- core/roslib/scripts/gendeps
+++ core/roslib/scripts/gendeps
@@ -44,6 +44,8 @@ import roslib.msgs
 import roslib.srvs 
 import roslib.gentools
  
+import rospkg
+
 NAME='gendeps'
 
 def usage(progname, stdout=sys.stdout):
@@ -83,12 +83,14 @@ def gendeps_main(argv, stdout, stderr):
     if options.cat_files and (options.md5 or options.sha1):
         parser.error("cat option is not compatible with other options")
 
+    # rospack instance for caching of deps
+    rospack = rospkg.RosPack()
     retval = roslib.gentools.get_file_dependencies(f, stdout=stdout, stderr=stderr)
 
     if options.md5:
-        print >> stdout, roslib.gentools.compute_md5(retval)
+        print >> stdout, roslib.gentools.compute_md5(retval, rospack=rospack)
     elif options.sha1:
-        print >> stdout, roslib.gentools.compute_sha1(retval)        
+        print >> stdout, roslib.gentools.compute_sha1(retval, rospack=rospack)
     elif options.cat_files:
         # this option is used for the message definition that is
         # stored in exchanged in ROS handshakes and then stored in bag
